"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class sharemanager {
    constructor() {
        this.list = [];
        try {
            var temp = wx.getStorageSync("sharelist");
            if (!temp) {
                console.log("不存在旧的邀请消息");
            }
            else {
                console.log("存在旧的邀请消息");
                this.list = temp;
            }
        }
        catch (e) {
            console.log("不存在旧的邀请消息");
        }
    }
    static getInstance() {
        return sharemanager.instance;
    }
    add(noti_new) {
        this.list.unshift(noti_new);
        console.log("现在列表里有" + this.list);
        try {
            wx.setStorageSync("sharelist", this.list);
            console.log("储存通知消息");
        }
        catch (e) {
            console.log("储存通知消息失败");
        }
    }
    show() {
        console.log("当前对象为", JSON.stringify(this.list));
    }
    edit(id, key, value) {
        console.log(this.list);
        var need = this.list.filter((device) => {
            return device.id != id;
        });
        var old = this.list.filter((device) => {
            return device.id == id;
        });
        var edit = old[0];
        edit[key] = value;
        console.log(need);
        console.log("------------");
        console.log(old);
    }
}
exports.sharemanager = sharemanager;
sharemanager.instance = new sharemanager();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhcmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzaGFyZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVNBLE1BQWEsWUFBWTtJQUd2QjtRQURBLFNBQUksR0FBZSxFQUFFLENBQUM7UUFFcEIsSUFBSTtZQUNGLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDMUMsSUFBSSxDQUFDLElBQUksRUFBRTtnQkFDVCxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO2FBRTFCO2lCQUFNO2dCQUNMLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ3hCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO2FBQ2xCO1NBQ0Y7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNWLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7U0FFMUI7SUFDSCxDQUFDO0lBQ0QsTUFBTSxDQUFDLFdBQVc7UUFDaEIsT0FBTyxZQUFZLENBQUMsUUFBUSxDQUFDO0lBQy9CLENBQUM7SUFFRCxHQUFHLENBQUMsUUFBZTtRQUNqQixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM1QixPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEMsSUFBSTtZQUNGLEVBQUUsQ0FBQyxjQUFjLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMxQyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQ3ZCO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDVixPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1NBQ3pCO0lBQ0gsQ0FBQztJQUNELElBQUk7UUFDRixPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFDRCxJQUFJLENBQUMsRUFBVSxFQUFFLEdBQVcsRUFBRSxLQUFhO1FBQ3pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBVSxFQUFFLEVBQUU7WUFDekMsT0FBTyxNQUFNLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQztRQUN6QixDQUFDLENBQUMsQ0FBQztRQUNILElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBVyxFQUFFLEVBQUU7WUFDekMsT0FBTyxNQUFNLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQztRQUN6QixDQUFDLENBQUMsQ0FBQztRQUNILElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO1FBQ2xCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUM1QixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25CLENBQUM7O0FBaERILG9DQWlEQztBQWhEZ0IscUJBQVEsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW50ZXJmYWNlIHNoYXJlIHtcbiAgaW5mbzogc3RyaW5nO1xuICBzdGF0dXM6IHN0cmluZztcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICBpc3JlYWQ6IGFueTtcbiAgZGF0ZTogYW55O1xufVxuXG5leHBvcnQgY2xhc3Mgc2hhcmVtYW5hZ2VyIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2UgPSBuZXcgc2hhcmVtYW5hZ2VyKCk7XG4gIGxpc3Q6IEFycmF5PGFueT4gPSBbXTtcbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHRlbXAgPSB3eC5nZXRTdG9yYWdlU3luYyhcInNoYXJlbGlzdFwiKTtcbiAgICAgIGlmICghdGVtcCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIuS4jeWtmOWcqOaXp+eahOmCgOivt+a2iOaBr1wiKTtcbiAgICAgICAgLy8gRG8gc29tZXRoaW5nIHdpdGggcmV0dXJuIHZhbHVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIuWtmOWcqOaXp+eahOmCgOivt+a2iOaBr1wiKTtcbiAgICAgICAgdGhpcy5saXN0ID0gdGVtcDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIuS4jeWtmOWcqOaXp+eahOmCgOivt+a2iOaBr1wiKTtcbiAgICAgIC8vIERvIHNvbWV0aGluZyB3aGVuIGNhdGNoIGVycm9yXG4gICAgfVxuICB9XG4gIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBzaGFyZW1hbmFnZXIge1xuICAgIHJldHVybiBzaGFyZW1hbmFnZXIuaW5zdGFuY2U7XG4gIH1cblxuICBhZGQobm90aV9uZXc6IHNoYXJlKSB7XG4gICAgdGhpcy5saXN0LnVuc2hpZnQobm90aV9uZXcpO1xuICAgIGNvbnNvbGUubG9nKFwi546w5Zyo5YiX6KGo6YeM5pyJXCIgKyB0aGlzLmxpc3QpO1xuICAgIHRyeSB7XG4gICAgICB3eC5zZXRTdG9yYWdlU3luYyhcInNoYXJlbGlzdFwiLCB0aGlzLmxpc3QpO1xuICAgICAgY29uc29sZS5sb2coXCLlgqjlrZjpgJrnn6Xmtojmga9cIik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coXCLlgqjlrZjpgJrnn6Xmtojmga/lpLHotKVcIik7XG4gICAgfVxuICB9XG4gIHNob3coKSB7XG4gICAgY29uc29sZS5sb2coXCLlvZPliY3lr7nosaHkuLpcIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5saXN0KSk7XG4gIH1cbiAgZWRpdChpZDogc3RyaW5nLCBrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKHRoaXMubGlzdCk7XG4gICAgdmFyIG5lZWQgPSB0aGlzLmxpc3QuZmlsdGVyKChkZXZpY2U6YW55KSA9PiB7XG4gICAgICByZXR1cm4gZGV2aWNlLmlkICE9IGlkO1xuICAgIH0pO1xuICAgIHZhciBvbGQgPSB0aGlzLmxpc3QuZmlsdGVyKChkZXZpY2U6IGFueSkgPT4ge1xuICAgICAgcmV0dXJuIGRldmljZS5pZCA9PSBpZDtcbiAgICB9KTtcbiAgICB2YXIgZWRpdCA9IG9sZFswXTtcbiAgICBlZGl0W2tleV0gPSB2YWx1ZTtcbiAgICBjb25zb2xlLmxvZyhuZWVkKTtcbiAgICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tLS0tLVwiKTtcbiAgICBjb25zb2xlLmxvZyhvbGQpO1xuICB9XG59XG4iXX0=